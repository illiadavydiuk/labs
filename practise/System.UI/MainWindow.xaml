<Window x:Class="TaskManager.UI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Task Manager System" Height="650" Width="950" 
        FontFamily="Segoe UI" FontSize="14" WindowStartupLocation="CenterScreen">

    <Grid Background="#F0F2F5">
        <TabControl Margin="10" Background="White" BorderThickness="0">

            <TabItem Header="👥 Developers">
                <Grid Margin="10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*"/>
                        <ColumnDefinition Width="1*"/>
                    </Grid.ColumnDefinitions>

                    <DataGrid x:Name="GridDevs" AutoGenerateColumns="False" SelectionChanged="GridDevs_SelectionChanged" 
                              CanUserAddRows="False" GridLinesVisibility="Horizontal" HeadersVisibility="Column">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="40"/>
                            <DataGridTextColumn Header="Full Name" Binding="{Binding FullName}" Width="*"/>
                            <DataGridTextColumn Header="Email" Binding="{Binding Email}" Width="*"/>
                        </DataGrid.Columns>
                    </DataGrid>

                    <StackPanel Grid.Column="1" Margin="15,0,0,0">
                        <TextBlock Text="Developer Details" FontWeight="Bold" FontSize="16" Margin="0,0,0,10"/>

                        <TextBlock Text="Full Name:"/>
                        <TextBox x:Name="TxtDevName" Padding="5" Margin="0,5"/>

                        <TextBlock Text="Email:"/>
                        <TextBox x:Name="TxtDevEmail" Padding="5" Margin="0,5"/>

                        <Button Content="➕ Add New" Click="BtnAddDev_Click" Background="#4CAF50" Foreground="White" Margin="0,10,0,5"/>
                        <Button Content="💾 Save Changes (Update)" Click="BtnUpdateDev_Click" Background="#FF9800" Foreground="White" Margin="0,5"/>
                        <Button Content="🗑 Delete Selected" Click="BtnDelDev_Click" Background="#F44336" Foreground="White" Margin="0,5"/>
                    </StackPanel>
                </Grid>
            </TabItem>

            <TabItem Header="🚀 Projects">
                <Grid Margin="10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="1.5*"/>
                        <ColumnDefinition Width="1*"/>
                    </Grid.ColumnDefinitions>

                    <DockPanel LastChildFill="True">
                        <TextBlock Text="All Projects:" DockPanel.Dock="Top" FontWeight="Bold" Margin="0,0,0,5"/>
                        <DataGrid x:Name="GridProjects" AutoGenerateColumns="False" SelectionChanged="GridProjects_SelectionChanged" CanUserAddRows="False">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="40"/>
                                <DataGridTextColumn Header="Project Name" Binding="{Binding Name}" Width="*"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </DockPanel>

                    <ScrollViewer Grid.Column="1" Margin="15,0,0,0">
                        <StackPanel>
                            <TextBlock Text="Project Management" FontWeight="Bold" FontSize="16" Margin="0,0,0,10"/>

                            <TextBlock Text="Project Name:"/>
                            <TextBox x:Name="TxtProjName" Padding="5" Margin="0,5"/>
                            <TextBlock Text="Description:"/>
                            <TextBox x:Name="TxtProjDesc" Padding="5" Margin="0,5" Height="50" TextWrapping="Wrap"/>

                            <StackPanel Orientation="Horizontal">
                                <Button Content="Create" Click="BtnCreateProj_Click" Width="80" Margin="0,5,5,5"/>
                                <Button Content="Update" Click="BtnUpdateProj_Click" Width="80" Margin="0,5,5,5"/>
                                <Button Content="Delete" Click="BtnDelProj_Click" Width="80" Background="#F44336" Foreground="White" Margin="0,5"/>
                            </StackPanel>

                            <Separator Margin="0,15"/>

                            <TextBlock Text="Team Members (Developers):" FontWeight="Bold"/>
                            <ListBox x:Name="ListProjTeam" Height="100" DisplayMemberPath="FullName" Margin="0,5"/>
                            <Button Content="❌ Remove Selected from Team" Click="BtnRemoveFromTeam_Click" Background="#E57373" Margin="0,0,0,10"/>

                            <TextBlock Text="Add Developer to Project:"/>
                            <ComboBox x:Name="ComboDevsForProj" DisplayMemberPath="FullName" Margin="0,5"/>
                            <Button Content="⬇ Add to Team" Click="BtnAddToTeam_Click" Background="#2196F3" Foreground="White"/>
                        </StackPanel>
                    </ScrollViewer>
                </Grid>
            </TabItem>

            <TabItem Header="✅ Tasks">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*"/>
                        <ColumnDefinition Width="1.2*"/>
                    </Grid.ColumnDefinitions>

                    <StackPanel Orientation="Horizontal" Grid.ColumnSpan="2" Margin="0,0,0,10" Background="#E3F2FD">
                        <TextBlock Text="🌍 Current Context (Select Project): " VerticalAlignment="Center" FontWeight="Bold" Margin="10,0"/>
                        <ComboBox x:Name="ComboProjectsForTasks" DisplayMemberPath="Name" Width="250" SelectionChanged="ComboProjectsForTasks_SelectionChanged"/>
                    </StackPanel>

                    <DataGrid Grid.Row="1" x:Name="GridTasks" AutoGenerateColumns="False" SelectionChanged="GridTasks_SelectionChanged" CanUserAddRows="False" IsReadOnly="True">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="30"/>
                            <DataGridTextColumn Header="Task Title" Binding="{Binding Title}" Width="*"/>
                            <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="80"/>
                        </DataGrid.Columns>
                    </DataGrid>

                    <StackPanel Grid.Row="1" Grid.Column="1" Margin="15,0,0,0">
                        <TextBlock Text="Selected Task Details" FontWeight="Bold" FontSize="16"/>

                        <TextBox x:Name="TxtTaskTitle" Padding="5" Margin="0,10"/>

                        <WrapPanel>
                            <Button Content="➕ New Task" Click="BtnAddTask_Click" Width="80" Margin="0,0,5,5"/>
                            <Button Content="🔄 Status" Click="BtnToggleStatus_Click" Width="80" Margin="0,0,5,5"/>
                            <Button Content="🗑 Delete" Click="BtnDelTask_Click" Width="80" Background="#F44336" Foreground="White" Margin="0,0,5,5"/>
                        </WrapPanel>

                        <Separator Margin="0,15"/>

                        <TextBlock Text="Assigned Developers:" FontWeight="Bold"/>
                        <ListBox x:Name="ListTaskDevs" Height="100" DisplayMemberPath="FullName" Margin="0,5"/>
                        <Button Content="❌ Remove from Task" Click="BtnRemoveFromTask_Click" Background="#E57373" Margin="0,0,0,10"/>

                        <TextBlock Text="Assign Developer:"/>
                        <ComboBox x:Name="ComboDevsForTask" DisplayMemberPath="FullName" Margin="0,5"/>
                        <Button Content="⬇ Assign" Click="BtnAssignDev_Click" Background="#2196F3" Foreground="White"/>
                    </StackPanel>
                </Grid>
            </TabItem>

        </TabControl>
    </Grid>
</Window>