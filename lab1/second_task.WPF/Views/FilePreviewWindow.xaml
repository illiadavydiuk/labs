<Window x:Class="second_task.WPF.Views.FilePreviewWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="File Preview" Height="600" Width="900"
        WindowStartupLocation="CenterScreen">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- File Info -->
        <Border Grid.Row="0" Background="LightBlue" Padding="10">
            <StackPanel>
                <TextBlock Text="{Binding FileName, StringFormat='File: {0}'}" FontWeight="Bold" FontSize="14"/>
                <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                    <TextBlock Text="{Binding TotalRows, StringFormat='Rows: {0}'}" Margin="0,0,20,0"/>
                    <TextBlock Text="{Binding TotalColumns, StringFormat='Columns: {0}'}" Margin="0,0,20,0"/>
                    <TextBlock Text="{Binding FileSize, StringFormat='Size: {0}'}" Margin="0,0,20,0"/>
                    <TextBlock Text="{Binding Encoding, StringFormat='Encoding: {0}'}"/>
                </StackPanel>
            </StackPanel>
        </Border>
        
        <!-- Column Analysis -->
        <Border Grid.Row="1" Background="LightGray" Padding="10">
            <StackPanel>
                <TextBlock Text="Column Analysis" FontWeight="Bold" Margin="0,0,0,5"/>
                <DataGrid ItemsSource="{Binding ColumnInfos}" AutoGenerateColumns="False" 
                          Height="150" IsReadOnly="True">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Column" Binding="{Binding Name}" Width="150"/>
                        <DataGridTextColumn Header="Type" Binding="{Binding Type}" Width="100"/>
                        <DataGridTextColumn Header="Null Count" Binding="{Binding NullCount}" Width="100"/>
                        <DataGridTextColumn Header="Null %" Binding="{Binding NullPercentage, StringFormat=F1}" Width="80"/>
                    </DataGrid.Columns>
                </DataGrid>
            </StackPanel>
        </Border>
        
        <!-- Data Preview -->
        <Border Grid.Row="2" Padding="10">
            <StackPanel>
                <TextBlock Text="Data Preview (First 10 rows)" FontWeight="Bold" Margin="0,0,0,5"/>
                <DataGrid ItemsSource="{Binding PreviewData}" AutoGenerateColumns="True" 
                          IsReadOnly="True" GridLinesVisibility="All"/>
            </StackPanel>
        </Border>
        
        <!-- Buttons -->
        <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Right" Margin="10">
            <Button Content="Load File" Click="LoadFile_Click" Padding="15,5" Margin="0,0,10,0" 
                    Background="Green" Foreground="White"/>
            <Button Content="Cancel" Click="Cancel_Click" Padding="15,5" 
                    Background="Gray" Foreground="White"/>
        </StackPanel>
    </Grid>
</Window>
