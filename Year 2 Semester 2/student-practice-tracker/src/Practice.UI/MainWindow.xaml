<Window x:Class="Practice.UI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Student Practice Hub" Height="750" Width="1200" WindowStartupLocation="CenterScreen">
    <Grid Background="{StaticResource MainBack}">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="260"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <Border Grid.Column="0" Background="{StaticResource SidebarBack}" CornerRadius="0,20,20,0">
            <StackPanel Margin="10,30">
                <TextBlock Text="PRACTICE" Foreground="White" FontSize="24" FontWeight="Black" HorizontalAlignment="Center" Margin="0,0,0,40"/>
                <StackPanel x:Name="AdminMenu" Visibility="Collapsed">
                    <Button Style="{StaticResource SidebarBtn}" Content="👥 Користувачі" Click="Nav_Click" Tag="AdminUsers"/>
                    <Button Style="{StaticResource SidebarBtn}" Content="📁 Теми" Click="Nav_Click" Tag="AdminTopics"/>
                    <Button Style="{StaticResource SidebarBtn}" Content="🛡️ Аудит" Click="Nav_Click" Tag="Audit"/>
                </StackPanel>
                <StackPanel x:Name="StudentMenu" Visibility="Collapsed">
                    <Button Style="{StaticResource SidebarBtn}" Content="🔍 Обрати тему" Click="Nav_Click" Tag="StudentTopics"/>
                    <Button Style="{StaticResource SidebarBtn}" Content="📝 Мій звіт" Click="Nav_Click" Tag="StudentReport"/>
                </StackPanel>
                <StackPanel x:Name="TeacherMenu" Visibility="Collapsed">
                    <Button Style="{StaticResource SidebarBtn}" Content="📥 Перевірка" Click="Nav_Click" Tag="TeacherQueue"/>
                </StackPanel>
                <Button Content="Вийти" Click="Logout_Click" Margin="0,50,0,0" Foreground="IndianRed" Style="{StaticResource SidebarBtn}"/>
            </StackPanel>
        </Border>

        <Grid Grid.Column="1" Margin="20">
            <Grid x:Name="WizardOverlay" Panel.ZIndex="200" Visibility="Collapsed" Background="{StaticResource MainBack}">
                <Border Background="White" Width="400" Padding="30" CornerRadius="15" VerticalAlignment="Center" Effect="{StaticResource CardShadow}">
                    <StackPanel>
                        <TextBlock Text="ПЕРШИЙ ЗАПУСК" FontSize="22" FontWeight="Bold" Margin="0,0,0,10"/>
                        <TextBlock Text="Створіть аккаунт Головного Адміністратора" Foreground="Gray" Margin="0,0,0,20"/>
                        <TextBox x:Name="WizEmail" Tag="Email" Margin="0,5"/>
                        <PasswordBox x:Name="WizPass" Margin="0,5"/>
                        <Button Content="СТВОРИТИ СИСТЕМУ" Click="CreateAdmin_Click" Background="{StaticResource AccentColor}" Foreground="White" Height="40" Margin="0,20,0,0"/>
                    </StackPanel>
                </Border>
            </Grid>

            <Grid x:Name="LoginOverlay" Panel.ZIndex="100" Background="{StaticResource MainBack}">
                <Border Background="White" Width="400" Padding="30" CornerRadius="15" VerticalAlignment="Center" Effect="{StaticResource CardShadow}">
                    <StackPanel>
                        <StackPanel x:Name="LoginPanel">
                            <TextBlock Text="ВХІД" FontSize="24" FontWeight="Bold" Margin="0,0,0,20"/>
                            <TextBox x:Name="LogEmail" Height="35" Margin="0,5"/>
                            <PasswordBox x:Name="LogPass" Height="35" Margin="0,5"/>
                            <Button Content="УВІЙТИ" Click="Login_Click" Background="{StaticResource AccentColor}" Foreground="White" Height="40" Margin="0,20,0,0"/>
                            <Button Content="Реєстрація студента" Click="ToggleAuth_Click" Background="Transparent" BorderThickness="0" Foreground="Gray" Margin="0,10"/>
                        </StackPanel>
                        <StackPanel x:Name="RegPanel" Visibility="Collapsed">
                            <TextBlock Text="РЕЄСТРАЦІЯ" FontSize="20" FontWeight="Bold" Margin="0,0,0,20"/>
                            <TextBox x:Name="RegEmail" Margin="0,5"/>
                            <TextBox x:Name="RegFName" Margin="0,5"/>
                            <TextBox x:Name="RegLName" Margin="0,5"/>
                            <TextBox x:Name="RegRecordBook" Margin="0,5"/>
                            <PasswordBox x:Name="RegPass" Margin="0,5"/>
                            <Button Content="ЗАРЕЄСТРУВАТИСЯ" Click="Register_Click" Background="{StaticResource AccentColor}" Foreground="White" Height="40" Margin="0,20,0,0"/>
                            <Button Content="Вхід" Click="ToggleAuth_Click" Background="Transparent" BorderThickness="0" Foreground="Gray" Margin="0,10"/>
                        </StackPanel>
                        <TextBlock x:Name="AuthError" Foreground="Red" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Border>
            </Grid>

            <Grid x:Name="AdminUsersGrid" Visibility="Collapsed">
                <DataGrid x:Name="dgUsers" AutoGenerateColumns="True" Background="White"/>
            </Grid>
            <Grid x:Name="AuditGrid" Visibility="Collapsed">
                <DataGrid x:Name="dgAudit" AutoGenerateColumns="True" Background="White"/>
            </Grid>
            <Grid x:Name="StudentReportGrid" Visibility="Collapsed">
                <StackPanel>
                    <TextBlock Text="Мій звіт" FontSize="20" FontWeight="Bold" Margin="0,0,0,20"/>
                    <TextBox x:Name="ReportComment" Height="100" TextWrapping="Wrap" Margin="0,10"/>
                    <Button Content="Відправити на перевірку" Click="SubmitReport_Click" Width="200" HorizontalAlignment="Left" Background="{StaticResource AccentColor}" Foreground="White"/>
                </StackPanel>
            </Grid>
        </Grid>
    </Grid>
</Window>